{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\OLUWAKEMI\\\\Desktop\\\\budget\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import moment from'moment';import{SingleDatePicker}from'react-dates';var ExpenseForm=function ExpenseForm(_ref){var onSubmit=_ref.onSubmit,expense=_ref.expense;// STATE\nvar _useState=useState(expense?expense.description:''),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];var _useState3=useState(expense?expense.note:''),_useState4=_slicedToArray(_useState3,2),note=_useState4[0],setNote=_useState4[1];var _useState5=useState(expense?(expense.amount/100).toString():''),_useState6=_slicedToArray(_useState5,2),amount=_useState6[0],setAmount=_useState6[1];var _useState7=useState(expense?moment(expense.createdAt):moment()),_useState8=_slicedToArray(_useState7,2),createdAt=_useState8[0],setCreatedAt=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),calenderFocused=_useState10[0],setCalenderFocused=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];// HANDLERS\nvar onAmountChangeHandler=function onAmountChangeHandler(e){var amt=e.target.value;if(!amt||amt.match(/^\\d{1,}(\\.\\d{0,2})?$/)){setAmount(amt);}};var onDateChangeHandler=function onDateChangeHandler(createdAt){if(createdAt)setCreatedAt(createdAt);};var onFocusChangeHandler=function onFocusChangeHandler(_ref2){var focused=_ref2.focused;setCalenderFocused(focused);};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();if(!description||!amount){// 'Please provide description and amount'\nsetError('Please provide description and amount');}else{// Clear error\nsetError('');// Send data upstream\nonSubmit({description:description,amount:parseFloat(amount,10)*100,createdAt:createdAt.valueOf(),note:note});}};return/*#__PURE__*/React.createElement(\"div\",null,error&&/*#__PURE__*/React.createElement(\"p\",null,error),/*#__PURE__*/React.createElement(\"form\",{className:\"form\",onSubmit:onSubmitHandler},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Description\",autoFocus:true,className:\"text-input\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Amount\",className:\"text-input\",value:amount,onChange:function onChange(e){return onAmountChangeHandler(e);}}),/*#__PURE__*/React.createElement(SingleDatePicker,{date:createdAt,onDateChange:onDateChangeHandler,focused:calenderFocused,onFocusChange:onFocusChangeHandler,numberOfMonths:1,readOnly:true,isOutsideRange:function isOutsideRange(){return false;}}),/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"Add a note\",className:\"textarea\",value:note,onChange:function onChange(e){return setNote(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"button\"},\"Add Expense\")));};export default ExpenseForm;","map":{"version":3,"sources":["C:/Users/OLUWAKEMI/Desktop/budget/frontend/src/components/ExpenseForm.js"],"names":["React","useState","moment","SingleDatePicker","ExpenseForm","onSubmit","expense","description","setDescription","note","setNote","amount","toString","setAmount","createdAt","setCreatedAt","calenderFocused","setCalenderFocused","error","setError","onAmountChangeHandler","e","amt","target","value","match","onDateChangeHandler","onFocusChangeHandler","focused","onSubmitHandler","preventDefault","parseFloat","valueOf"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport moment from 'moment';\r\nimport { SingleDatePicker } from 'react-dates';\r\n\r\nconst ExpenseForm = ({ onSubmit, expense }) => {\r\n  // STATE\r\n  const [description, setDescription] = useState(\r\n    expense ? expense.description : ''\r\n  );\r\n  const [note, setNote] = useState(expense ? expense.note : '');\r\n  const [amount, setAmount] = useState(\r\n    expense ? (expense.amount / 100).toString() : ''\r\n  );\r\n  const [createdAt, setCreatedAt] = useState(\r\n    expense ? moment(expense.createdAt) : moment()\r\n  );\r\n  const [calenderFocused, setCalenderFocused] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  // HANDLERS\r\n  const onAmountChangeHandler = (e) => {\r\n    let amt = e.target.value;\r\n    if (!amt || amt.match(/^\\d{1,}(\\.\\d{0,2})?$/)) {\r\n      setAmount(amt);\r\n    }\r\n  };\r\n\r\n  const onDateChangeHandler = (createdAt) => {\r\n    if (createdAt) setCreatedAt(createdAt);\r\n  };\r\n\r\n  const onFocusChangeHandler = ({ focused }) => {\r\n    setCalenderFocused(focused);\r\n  };\r\n\r\n  const onSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!description || !amount) {\r\n      // 'Please provide description and amount'\r\n      setError('Please provide description and amount');\r\n    } else {\r\n      // Clear error\r\n      setError('');\r\n\r\n      // Send data upstream\r\n      onSubmit({\r\n        description,\r\n        amount: parseFloat(amount, 10) * 100,\r\n        createdAt: createdAt.valueOf(),\r\n        note,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {error && <p>{error}</p>}\r\n      <form className='form' onSubmit={onSubmitHandler}>\r\n        <input\r\n          type='text'\r\n          placeholder='Description'\r\n          autoFocus\r\n          className='text-input'\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <input\r\n          type='text'\r\n          placeholder='Amount'\r\n          className='text-input'\r\n          value={amount}\r\n          onChange={(e) => onAmountChangeHandler(e)}\r\n        />\r\n        <SingleDatePicker\r\n          date={createdAt}\r\n          onDateChange={onDateChangeHandler}\r\n          focused={calenderFocused}\r\n          onFocusChange={onFocusChangeHandler}\r\n          numberOfMonths={1}\r\n          readOnly={true}\r\n          isOutsideRange={() => false}\r\n        />\r\n        <textarea\r\n          placeholder='Add a note'\r\n          className='textarea'\r\n          value={note}\r\n          onChange={(e) => setNote(e.target.value)}\r\n        ></textarea>\r\n        <button className='button'>Add Expense</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpenseForm;\r\n"]},"metadata":{},"sourceType":"module"}